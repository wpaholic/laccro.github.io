import{_ as A}from"./q-BKZ00VYc.js";import{h as le,c as ce,C as ue,b as de,D as _e,R as ve,d as pe,e as fe,f as me,i as ye,t as he,j as i,k as C,m as W,n as j,Q as ee,r as te,o as oe,l as ne,q as K,v as Se,w as Ce,x as $,y as D,z as be,A as we,B as ge}from"./q-DR2WyCgK.js";import{g as Ee,M as qe,C as H,J as Pe,f as B,A as S,D as Re,e as ke,o as De,N as U,h as re,i as se,_hW as J,j as Ie,H as Le,k as $e}from"./q-BgWV-Pky.js";const Ve=a=>{Ee(U(()=>A(()=>Promise.resolve().then(()=>He),void 0),"s_rG6MNVsoyrE"));const r=le();if(!r?.params)throw new Error("Missing Qwik City Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const m=qe("url");if(!m)throw new Error("Missing Qwik URL Env Data");const v=new URL(m),s=H({url:v,params:r.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),g={},u=Pe(H(r.response.loaders,{deep:!1})),y=B({type:"initial",dest:v,forceReload:!1,replaceState:!1,scroll:!0}),E=H(ce),q=H({headings:void 0,menu:void 0}),l=B(),t=r.response.action,_=t?r.response.loaders[t]:void 0,c=B(_?{id:t,data:r.response.formData,output:{result:_,status:r.response.status}}:void 0),P=U(()=>A(()=>Promise.resolve().then(()=>Ne),void 0),"s_zEBMbjiaXpc"),T=U(()=>A(()=>Promise.resolve().then(()=>je),void 0),"s_r8Dg0Qt0zk0",[c,g,y,s]);return S(ue,q),S(de,l),S(_e,E),S(ve,s),S(pe,T),S(fe,u),S(me,c),S(ye,P),Re(U(()=>A(()=>Promise.resolve().then(()=>Oe),void 0),"s_YuygpbhwIKo",[c,q,l,E,r,T,u,g,a,y,s])),ke(De,null,3,"D6_3")};const X=[["/",[()=>A(()=>import("./q-DrxE8_Ru.js"),[])]]],Y=[];const G=!0;const Ae=async(a,r)=>{const[m,v,s,g]=re(),{type:u="link",forceReload:y=a===void 0,replaceState:E=!1,scroll:q=!0}=typeof r=="object"?r:{forceReload:r};j.navCount++,u==="link"&&s.value.type==="initial"&&(s.value.dest=new URL(window.location.href));const l=s.value.dest,t=a===void 0?l:typeof a=="number"?a:he(a,g.url);if(i.$cbs$&&(y||typeof t=="number"||!C(t,l)||!W(t,l))){const _=j.navCount,c=await Promise.all([...i.$cbs$.values()].map(P=>P(t)));if(_!==j.navCount||c.some(Boolean)){_===j.navCount&&u==="popstate"&&history.pushState(null,"",l);return}}if(typeof t=="number"){history.go(t);return}if(!W(t,l)){location.href=t.href;return}if(!y&&C(t,l)){{u==="link"&&t.href!==location.href&&history.pushState(null,"",t);const _=document.getElementById(ee)??document.documentElement;te(u,t,new URL(location.href),_,oe()),u==="popstate"&&(window._qCityScrollEnabled=!0)}return}return s.value={type:u,dest:t,forceReload:y,replaceState:E,scroll:q},ne(t,se()),K(X,Y,G,t.pathname),m.value=void 0,g.isNavigating=!0,new Promise(_=>{v.r=_})},je=Object.freeze(Object.defineProperty({__proto__:null,_hW:J,s_r8Dg0Qt0zk0:Ae},Symbol.toStringTag,{value:"Module"})),Te=a=>(i.$handler$||(i.$handler$=r=>{if(j.navCount++,!i.$cbs$)return;[...i.$cbs$.values()].map(v=>v.resolved?v.resolved():v()).some(Boolean)&&(r.preventDefault(),r.returnValue=!0)}),(i.$cbs$||(i.$cbs$=new Set)).add(a),a.resolve(),window.addEventListener("beforeunload",i.$handler$),()=>{i.$cbs$&&(i.$cbs$.delete(a),i.$cbs$.size||(i.$cbs$=void 0,window.removeEventListener("beforeunload",i.$handler$)))}),Ne=Object.freeze(Object.defineProperty({__proto__:null,_hW:J,s_zEBMbjiaXpc:Te},Symbol.toStringTag,{value:"Module"})),Me=({track:a})=>{const[r,m,v,s,g,u,y,E,q,l,t]=re();async function _(){const c=a(l),P=a(r),T=Ie(""),b=t.url,f=P?"form":c.type,ae=c.replaceState;let n,z,Q=null,N;{n=new URL(c.dest,location),n.pathname.endsWith("/")||(n.pathname+="/");let M=K(X,Y,G,n.pathname);N=se();const I=z=await ne(n,N,{action:P,clearCache:!0});if(!I){l.untrackedValue={type:f,dest:n};return}const O=I.href,L=new URL(O,n);C(L,n)||(I.isRewrite||(n=L),M=K(X,Y,G,L.pathname));try{Q=await M}catch(R){console.error(R),window.location.href=O;return}}if(Q){const[M,I,O,L]=Q,R=O,ie=R[R.length-1];c.dest.search&&C(n,b)&&(n.search=c.dest.search),C(n,b)||(t.prevUrl=b),t.url=n,t.params={...I},l.untrackedValue={type:f,dest:n};const k=Se(z,t,R,T);m.headings=ie.headings,m.menu=L,v.value=Le(R),s.links=k.links,s.meta=k.meta,s.styles=k.styles,s.scripts=k.scripts,s.title=k.title,s.frontmatter=k.frontmatter;{q.viewTransition!==!1&&(document.__q_view_transition__=!0);let F;f==="popstate"&&(F=oe());const w=document.getElementById(ee)??document.documentElement;(c.scroll&&(!c.forceReload||!C(n,b))&&(f==="link"||f==="popstate")||f==="form"&&!C(n,b))&&(document.__q_scroll_restore__=()=>te(f,n,b,w,F));const Z=z?.loaders,e=window;if(Z&&Object.assign(y,Z),Ce.clear(),!e._qCitySPA){if(e._qCitySPA=!0,history.scrollRestoration="manual",e.addEventListener("popstate",()=>{e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),u(location.href,{type:"popstate"})}),e.removeEventListener("popstate",e._qCityInitPopstate),e._qCityInitPopstate=void 0,!e._qCityHistoryPatch){e._qCityHistoryPatch=!0;const d=history.pushState,h=history.replaceState,x=o=>(o===null||typeof o>"u"?o={}:o?.constructor!==Object&&(o={_data:o}),o._qCityScroll=o._qCityScroll||D(w),o);history.pushState=(o,p,V)=>(o=x(o),d.call(history,o,p,V)),history.replaceState=(o,p,V)=>(o=x(o),h.call(history,o,p,V))}document.addEventListener("click",d=>{if(d.defaultPrevented)return;const h=d.target.closest("a[href]");if(h&&!h.hasAttribute("preventdefault:click")){const x=h.getAttribute("href"),o=new URL(location.href),p=new URL(x,o);if(W(p,o)&&C(p,o)){if(d.preventDefault(),!p.hash&&!p.href.endsWith("#")){p.href!==o.href&&history.pushState(null,"",p),e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),$({...D(w),x:0,y:0}),location.reload();return}u(h.getAttribute("href"))}}}),document.removeEventListener("click",e._qCityInitAnchors),e._qCityInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if(e._qCityScrollEnabled&&document.visibilityState==="hidden"){const d=D(w);$(d)}},{passive:!0}),document.removeEventListener("visibilitychange",e._qCityInitVisibility),e._qCityInitVisibility=void 0),e.addEventListener("scroll",()=>{e._qCityScrollEnabled&&(clearTimeout(e._qCityScrollDebounce),e._qCityScrollDebounce=setTimeout(()=>{const d=D(w);$(d),e._qCityScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",e._qCityInitScroll),e._qCityInitScroll=void 0,e._qCityBootstrap?.remove(),e._qCityBootstrap=void 0,be.resolve()}if(f!=="popstate"){e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce);const d=D(w);$(d)}we(window,f,b,n,ae),$e(N).then(()=>{ge(N).setAttribute("q:route",M);const h=D(w);$(h),e._qCityScrollEnabled=!0,t.isNavigating=!1,E.r?.()})}}}_()},Oe=Object.freeze(Object.defineProperty({__proto__:null,_hW:J,s_YuygpbhwIKo:Me},Symbol.toStringTag,{value:"Module"})),xe=":root{view-transition-name:none}",He=Object.freeze(Object.defineProperty({__proto__:null,s_rG6MNVsoyrE:xe},Symbol.toStringTag,{value:"Module"}));export{J as _hW,Ve as s_30qbNxXrfyE,Me as s_YuygpbhwIKo,Ae as s_r8Dg0Qt0zk0,xe as s_rG6MNVsoyrE,Te as s_zEBMbjiaXpc};
