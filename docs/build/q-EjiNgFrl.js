import{h as ee,g as te,i as le,M as ce,C as x,J as ue,f as W,A as C,D as de,e as _e,o as ve,N as M,j as pe,H as me,k as fe,_hW as K}from"./q-CPbSDhbW.js";import{t as ye,h as a,i as S,j as B,k as T,Q as oe,r as ne,m as re,l as se,n as Y,o as he,c as Ce,C as Se,b as ge,D as be,R as we,d as Ee,e as qe,f as Pe,q as Re,v as Le,w as Ie,x as $,y as I,z as ke,A as De,B as Ne}from"./q-CvVSrqvB.js";import{_ as k}from"./q-BKZ00VYc.js";const $e=":root{view-transition-name:none}",Te=Object.freeze(Object.defineProperty({__proto__:null,s_NhYnUcxhNR8:$e},Symbol.toStringTag,{value:"Module"}));const Z=[["/",[()=>k(()=>import("./q-DZ_E8C6X.js"),[])]],["en/",[()=>k(()=>import("./q-BH7H8Tl7.js"),[])]]],J=[];const X=!0;const Ae=async(i,r)=>{const[f,v,s,w]=ee(),{type:u="link",forceReload:y=i===void 0,replaceState:E=!1,scroll:q=!0}=typeof r=="object"?r:{forceReload:r};T.navCount++,u==="link"&&s.value.type==="initial"&&(s.value.dest=new URL(window.location.href));const l=s.value.dest,t=i===void 0?l:typeof i=="number"?i:ye(i,w.url);if(a.$cbs$&&(y||typeof t=="number"||!S(t,l)||!B(t,l))){const _=T.navCount,c=await Promise.all([...a.$cbs$.values()].map(P=>P(t)));if(_!==T.navCount||c.some(Boolean)){_===T.navCount&&u==="popstate"&&history.pushState(null,"",l);return}}if(typeof t=="number"){history.go(t);return}if(!B(t,l)){location.href=t.href;return}if(!y&&S(t,l)){{u==="link"&&t.href!==location.href&&history.pushState(null,"",t);const _=document.getElementById(oe)??document.documentElement;ne(u,t,new URL(location.href),_,re()),u==="popstate"&&(window._qCityScrollEnabled=!0)}return}return s.value={type:u,dest:t,forceReload:y,replaceState:E,scroll:q},se(t,te()),Y(Z,J,X,t.pathname),f.value=void 0,w.isNavigating=!0,new Promise(_=>{v.r=_})},Ue=Object.freeze(Object.defineProperty({__proto__:null,_hW:K,s_ilgCZH6LNH0:Ae},Symbol.toStringTag,{value:"Module"})),je=i=>{le(M(()=>k(()=>Promise.resolve().then(()=>Te),void 0),"s_NhYnUcxhNR8"));const r=he();if(!r?.params)throw new Error("Missing Qwik City Env Data for help visit https://github.com/QwikDev/qwik/issues/6237");const f=ce("url");if(!f)throw new Error("Missing Qwik URL Env Data");const v=new URL(f),s=x({url:v,params:r.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),w={},u=ue(x(r.response.loaders,{deep:!1})),y=W({type:"initial",dest:v,forceReload:!1,replaceState:!1,scroll:!0}),E=x(Ce),q=x({headings:void 0,menu:void 0}),l=W(),t=r.response.action,_=t?r.response.loaders[t]:void 0,c=W(_?{id:t,data:r.response.formData,output:{result:_,status:r.response.status}}:void 0),P=M(()=>k(()=>Promise.resolve().then(()=>Me),void 0),"s_5vZcm9Ymer8"),A=M(()=>k(()=>Promise.resolve().then(()=>Ue),void 0),"s_ilgCZH6LNH0",[c,w,y,s]);return C(Se,q),C(ge,l),C(be,E),C(we,s),C(Ee,A),C(qe,u),C(Pe,c),C(Re,P),de(M(()=>k(()=>Promise.resolve().then(()=>Oe),void 0),"s_UNTCposXJIU",[c,q,l,E,r,A,u,w,i,y,s])),_e(ve,null,3,"qv_3")},We=Object.freeze(Object.defineProperty({__proto__:null,s_E51wbogguX8:je},Symbol.toStringTag,{value:"Module"})),He=({track:i})=>{const[r,f,v,s,w,u,y,E,q,l,t]=ee();async function _(){const c=i(l),P=i(r),A=pe(""),g=t.url,m=P?"form":c.type,ie=c.replaceState;let n,Q,V=null,U;{n=new URL(c.dest,location),n.pathname.endsWith("/")||(n.pathname+="/");let j=Y(Z,J,X,n.pathname);U=te();const D=Q=await se(n,U,{action:P,clearCache:!0});if(!D){l.untrackedValue={type:m,dest:n};return}const H=D.href,N=new URL(H,n);S(N,n)||(D.isRewrite||(n=N),j=Y(Z,J,X,N.pathname));try{V=await j}catch(R){console.error(R),window.location.href=H;return}}if(V){const[j,D,H,N]=V,R=H,ae=R[R.length-1];c.dest.search&&S(n,g)&&(n.search=c.dest.search),S(n,g)||(t.prevUrl=g),t.url=n,t.params={...D},l.untrackedValue={type:m,dest:n};const L=Le(Q,t,R,A);f.headings=ae.headings,f.menu=N,v.value=me(R),s.links=L.links,s.meta=L.meta,s.styles=L.styles,s.scripts=L.scripts,s.title=L.title,s.frontmatter=L.frontmatter;{q.viewTransition!==!1&&(document.__q_view_transition__=!0);let F;m==="popstate"&&(F=re());const b=document.getElementById(oe)??document.documentElement;(c.scroll&&(!c.forceReload||!S(n,g))&&(m==="link"||m==="popstate")||m==="form"&&!S(n,g))&&(document.__q_scroll_restore__=()=>ne(m,n,g,b,F));const G=Q?.loaders,e=window;if(G&&Object.assign(y,G),Ie.clear(),!e._qCitySPA){if(e._qCitySPA=!0,history.scrollRestoration="manual",e.addEventListener("popstate",()=>{e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),u(location.href,{type:"popstate"})}),e.removeEventListener("popstate",e._qCityInitPopstate),e._qCityInitPopstate=void 0,!e._qCityHistoryPatch){e._qCityHistoryPatch=!0;const d=history.pushState,h=history.replaceState,O=o=>(o===null||typeof o>"u"?o={}:o?.constructor!==Object&&(o={_data:o}),o._qCityScroll=o._qCityScroll||I(b),o);history.pushState=(o,p,z)=>(o=O(o),d.call(history,o,p,z)),history.replaceState=(o,p,z)=>(o=O(o),h.call(history,o,p,z))}document.addEventListener("click",d=>{if(d.defaultPrevented)return;const h=d.target.closest("a[href]");if(h&&!h.hasAttribute("preventdefault:click")){const O=h.getAttribute("href"),o=new URL(location.href),p=new URL(O,o);if(B(p,o)&&S(p,o)){if(d.preventDefault(),!p.hash&&!p.href.endsWith("#")){p.href!==o.href&&history.pushState(null,"",p),e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce),$({...I(b),x:0,y:0}),location.reload();return}u(h.getAttribute("href"))}}}),document.removeEventListener("click",e._qCityInitAnchors),e._qCityInitAnchors=void 0,window.navigation||(document.addEventListener("visibilitychange",()=>{if(e._qCityScrollEnabled&&document.visibilityState==="hidden"){const d=I(b);$(d)}},{passive:!0}),document.removeEventListener("visibilitychange",e._qCityInitVisibility),e._qCityInitVisibility=void 0),e.addEventListener("scroll",()=>{e._qCityScrollEnabled&&(clearTimeout(e._qCityScrollDebounce),e._qCityScrollDebounce=setTimeout(()=>{const d=I(b);$(d),e._qCityScrollDebounce=void 0},200))},{passive:!0}),removeEventListener("scroll",e._qCityInitScroll),e._qCityInitScroll=void 0,e._qCityBootstrap?.remove(),e._qCityBootstrap=void 0,ke.resolve()}if(m!=="popstate"){e._qCityScrollEnabled=!1,clearTimeout(e._qCityScrollDebounce);const d=I(b);$(d)}De(window,m,g,n,ie),fe(U).then(()=>{Ne(U).setAttribute("q:route",j);const h=I(b);$(h),e._qCityScrollEnabled=!0,t.isNavigating=!1,E.r?.()})}}}_()},Oe=Object.freeze(Object.defineProperty({__proto__:null,_hW:K,s_UNTCposXJIU:He},Symbol.toStringTag,{value:"Module"})),xe=i=>(a.$handler$||(a.$handler$=r=>{if(T.navCount++,!a.$cbs$)return;[...a.$cbs$.values()].map(v=>v.resolved?v.resolved():v()).some(Boolean)&&(r.preventDefault(),r.returnValue=!0)}),(a.$cbs$||(a.$cbs$=new Set)).add(i),i.resolve(),window.addEventListener("beforeunload",a.$handler$),()=>{a.$cbs$&&(a.$cbs$.delete(i),a.$cbs$.size||(a.$cbs$=void 0,window.removeEventListener("beforeunload",a.$handler$)))}),Me=Object.freeze(Object.defineProperty({__proto__:null,_hW:K,s_5vZcm9Ymer8:xe},Symbol.toStringTag,{value:"Module"}));export{K as _hW,We as i,xe as s_5vZcm9Ymer8,je as s_E51wbogguX8,$e as s_NhYnUcxhNR8,He as s_UNTCposXJIU,Ae as s_ilgCZH6LNH0};
